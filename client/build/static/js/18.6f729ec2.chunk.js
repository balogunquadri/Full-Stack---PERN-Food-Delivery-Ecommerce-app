(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{133:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n(18),s=n(20),o=n(19),i=n(21),c=n(0),u=n.n(c),l=n(13),d=n(15),p=n(41),m=n(40),h=n(113),f=n(106),g=n.n(f),b=n(107),y=function(e){var t=e.meals.map(function(t){return u.a.createElement(b.a,{key:t.id,meal:t,order:e.handleQuantity,type:"menu"})});return u.a.createElement("section",{className:["page-section",g.a.Menu].join(" ")},u.a.createElement("div",{className:g.a.Menu__label},u.a.createElement("h3",null,e.catering_service)),u.a.createElement("div",{className:g.a.Menu__food},t))},v=function(e){var t=Object(h.a)(e.catererData);return t.map(function(t){return u.a.createElement(y,{key:t.catering_service,meals:t.meals,catering_service:t.catering_service,handleQuantity:e.handleQuantity})})},O=n(114),E=n(26),M=n(32),_=n(5),j=n(99),k=n(100),w=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(o.a)(t)).call.apply(e,[this].concat(i)))).state={redirectPath:null,redirect:!1},n.addMealToOrders=function(e){n.props.onAddToOrders(e),console.log(n.props.orderResCode),"success"===n.props.resCode&&(n.props.onResetResCode(),n.setState({redirect:!0,redirectPath:"/orders"}))},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.onFetchMenus()}},{key:"render",value:function(){var e=u.a.createElement(v,{catererData:this.props.menus,handleQuantity:this.props.onHandleQuantity});return this.props.loading&&(e=u.a.createElement(E.a,null)),this.props.loading||0!==this.props.menus.length||(e=u.a.createElement(k.a,{text:"Menu"})),u.a.createElement(u.a.Fragment,null,this.state.redirect?u.a.createElement(d.a,{to:this.state.redirectPath}):null,u.a.createElement(p.a,{bannerText:"Today's Menus",authenticated:this.props.userAuthenticated,overlay:this.props.beingOrdered}),u.a.createElement("main",null,e),u.a.createElement(O.a,{meal:this.props.beingOrdered,type:"quantity",show:null!==this.props.beingOrdered,close:this.props.onHideQuantityModal,orderMeal:this.addMealToOrders}),u.a.createElement(m.a,null))}}]),t}(c.Component);t.default=Object(l.b)(function(e){var t=[];return e.menu.menus.forEach(function(e){t.push({id:e.id,catererId:e.catererId,catering_service:e.caterer.catering_service,meals:JSON.parse(e.meals)})}),{userAuthenticated:e.auth.userAuthenticated,beingOrdered:e.menu.beingOrdered,token:e.auth.token,loading:e.menu.loading,menus:t,resCode:e.global.lastReq}},function(e){return{onHandleQuantity:function(t){return e(M.e(t))},onHideQuantityModal:function(){return e(M.f())},onFetchMenus:function(){return e(M.m())},onAddToOrders:function(t){return e(M.o(t))},onResetResCode:function(){return e(M.u())}}})(Object(j.a)(w,_.a))}}]);
//# sourceMappingURL=18.6f729ec2.chunk.js.map