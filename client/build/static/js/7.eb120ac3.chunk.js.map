{"version":3,"sources":["components/UI/Empty/Empty.js","components/UI/Empty/Empty.module.css","assets/img/empty.svg","components/Table/Table.module.css","components/Table/TableHead/TableHeadItem/TableHeadItem.js","components/Table/TableHead/TableHead.js","components/Table/TableBody/TableRow/TableRow.js","components/Table/TableBody/TableBody.js","components/Table/TableFoot/TableFootItem/TableFootItem.js","components/Table/TableFoot/TableFoot.js","components/Table/OrderTable/OrderTable.js","containers/Caterer/CatererOrderHistory/CatererOrderHistory.js","hoc/withHttpHandler/withHttpHandler.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Empty_module_css__WEBPACK_IMPORTED_MODULE_1__","_Empty_module_css__WEBPACK_IMPORTED_MODULE_1___default","_assets_img_empty_svg__WEBPACK_IMPORTED_MODULE_2__","_assets_img_empty_svg__WEBPACK_IMPORTED_MODULE_2___default","empty","props","alt","text","span","a","createElement","className","classes","Empty","src","emptySvg","EmptyText","module","exports","p","Table","Table__head","Table__row","Table__foot","Table__head__list","Table__row__list","Table__foot__list","Table__head__list__item","Table__row__list__item","Table__foot__list__item","Order__summary__list","Order__summary__list__item","Dash","tableHeadItem","react_default","tableHead","headItems","rows","map","row","TableHeadItem","key","tableRow","meals","order","meal","Fragment","id","name","quantity","user","caterer","date","total","toFixed","tableBody","orderRows","orders","TableRow","tableFootItem","li","tableFoot","footItems","TableFootItem","orderTable","reduce","acc","todaysOrders","splice","join","TableHead","TableBody","TableFoot","CatererOrderHistory","this","onFetchOrders","react__WEBPACK_IMPORTED_MODULE_5___default","_components_Table_OrderTable_OrderTable__WEBPACK_IMPORTED_MODULE_10__","loading","_components_UI_Loading_Loading__WEBPACK_IMPORTED_MODULE_11__","length","_components_UI_Empty_Empty__WEBPACK_IMPORTED_MODULE_12__","_components_Header_Header__WEBPACK_IMPORTED_MODULE_8__","bannerText","authenticated","catererAuthenticated","_components_Footer_Footer__WEBPACK_IMPORTED_MODULE_9__","Component","connect","state","catererOrders","forEach","push","JSON","parse","Date","createdAt","toDateString","auth","dispatch","actions","withHttpHandler","client","WrappedComponent","API_URL","process","REACT_APP_API_URL","_Component","_temp","_getPrototypeOf2","_this","Object","C_Users_USER_Desktop_postgres_caterer_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_len","arguments","args","Array","_key","C_Users_USER_Desktop_postgres_caterer_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_USER_Desktop_postgres_caterer_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","error","errorConfirmedHandler","setState","C_Users_USER_Desktop_postgres_caterer_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_Users_USER_Desktop_postgres_caterer_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","value","_this2","reqInterceptor","interceptors","request","use","req","baseURL","headers","Authorization","token","localStorage","getItem","resInterceptor","response","res","eject"],"mappings":"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","file":"static/js/7.eb120ac3.chunk.js","sourcesContent":["import React from 'react';\nimport classes from './Empty.module.css';\nimport emptySvg from '../../../assets/img/empty.svg'\n\nconst empty = (props) => {\n    const alt = 'Empty ' + props.text;\n    let span = <span className=\"Red\">{props.text}</span>;\n    return (\n        <div className={classes.Empty}>\n            <img src={emptySvg} alt={alt} />\n            <p className={classes.EmptyText}>Empty {span}</p>\n        </div>\n    );\n};\n\nexport default empty;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Empty\":\"Empty_Empty__BVZGj\",\"EmptyText\":\"Empty_EmptyText__R_uhU\"};","module.exports = __webpack_public_path__ + \"static/media/empty.093f05ea.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Table\":\"Table_Table__17qmX\",\"Table__head\":\"Table_Table__head__2Oe9v\",\"Table__row\":\"Table_Table__row__1kMKO\",\"Table__foot\":\"Table_Table__foot__ehyVp\",\"Table__head__list\":\"Table_Table__head__list__nfK3w\",\"Table__row__list\":\"Table_Table__row__list__1sK1b\",\"Table__foot__list\":\"Table_Table__foot__list__1zB4X\",\"Table__head__list__item\":\"Table_Table__head__list__item__3BCBj\",\"Table__row__list__item\":\"Table_Table__row__list__item__19ubn\",\"Table__foot__list__item\":\"Table_Table__foot__list__item__2g04f\",\"Order__summary__list\":\"Table_Order__summary__list__17UdO\",\"Order__summary__list__item\":\"Table_Order__summary__list__item__24fOq\",\"Dash\":\"Table_Dash__OLtHI\"};","import React from 'react';\n\nconst tableHeadItem = (props) => {\n  return (\n    <li className={props.classes.Table__head__list__item}>{props.text}</li>\n  );\n}\n\nexport default tableHeadItem;","import React from 'react';\nimport TableHeadItem from './TableHeadItem/TableHeadItem';\nconst tableHead = props => {\n  const headItems = props.rows.map(row => {\n    return <TableHeadItem key={row} classes={props.classes} text={row} />;\n  });\n  return (\n    <div className={props.classes.Table__head}>\n      <ul className={props.classes.Table__head__list}>\n        { headItems }\n      </ul>\n    </div>\n  );\n};\n\nexport default tableHead;\n","import React from 'react';\n\nconst tableRow = (props) => {\n  const meals = props.order.meals.map(meal => {\n    return (\n      <React.Fragment key={meal.id}>\n        <li className={props.classes.Order__summary__list__item}>\n          <p>{meal.name}</p>\n          <span className={props.classes.Dash}>-</span>\n          <p>{meal.quantity}</p>\n        </li>\n      </React.Fragment>\n    );\n  });\n  return (\n    <div className={props.classes.Table__row}>\n      <ul className={props.classes.Table__row__list}>\n        <li className={props.classes.Table__row__list__item}>{props.order.id}</li>\n        <li className={props.classes.Table__row__list__item}>{props.order.user || props.order.caterer}</li>\n        <li className={props.classes.Table__row__list__item}>\n          <ul className={props.classes.Order__summary__list}>\n            { meals }\n          </ul>\n        </li>\n        <li className={props.classes.Table__row__list__item}>{props.order.date}</li>\n        <li className={props.classes.Table__row__list__item}>${props.order.total.toFixed(2)}</li>\n      </ul>\n    </div>\n  );  \n}\n\nexport default tableRow;","import React from 'react';\nimport TableRow from './TableRow/TableRow';\n\nconst tableBody = (props) => {\n  const orderRows = props.orders.map(order => {\n    return <TableRow classes={props.classes} order={order} key={order.id}/>\n  });\n  return (\n    <div>\n      { orderRows }\n    </div>\n  );\n}\n\nexport default tableBody;","import React from 'react';\n\nconst tableFootItem = props => {\n  let li = <li className={props.classes.Table__foot__list__item}>{props.text}</li>;\n  if (typeof props.text === 'object') {\n    li = <li className={props.classes.Table__foot__list__item}>${props.text.total.toFixed(2)}</li>;\n  }\n  return li;\n};\n\nexport default tableFootItem;\n","import React from 'react';\nimport TableFootItem from './TableFootItem/TableFootItem';\nconst tableFoot = props => {\n  const footItems = props.rows.map(row => {\n    return <TableFootItem key={row} classes={props.classes} text={row} />;\n  });\n  return (\n    <div className={props.classes.Table__foot}>\n      <ul className={props.classes.Table__foot__list}>\n        {footItems}\n      </ul>\n    </div>\n  );\n};\n\nexport default tableFoot;","import React from 'react';\nimport classes from '../Table.module.css';\nimport TableHead from '../TableHead/TableHead';\nimport TableBody from '../TableBody/TableBody';\nimport TableFoot from '../TableFoot/TableFoot';\n\nconst orderTable = props => {\n  const headItems = ['#ID', 'Caterer', 'Order Summary', 'Order Date', 'Order Total'];\n  const total = props.orders.reduce((acc, order) => {\n    return acc + order.total;\n  },0);\n  const footItems = ['Total', {total}];\n  if(props.todaysOrders) headItems.splice(3,1);\n  if (props.caterer) headItems[1] = 'Customer Name';\n  return (\n    <section className={['page-section', classes.Table].join(' ')}>\n      <TableHead classes={classes} rows={headItems} />\n      <TableBody classes={classes} orders={props.orders} />\n      {props.todaysOrders ? <TableFoot classes={classes} rows={footItems} />: null }\n    </section>\n  );\n};\n\nexport default orderTable;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../store/action/index';\nimport Header from '../../../components/Header/Header';\nimport Footer from '../../../components/Footer/Footer';\nimport OrderTable from '../../../components/Table/OrderTable/OrderTable';\nimport Loading from '../../../components/UI/Loading/Loading';\nimport Empty from '../../../components/UI/Empty/Empty';\nimport client from '../../../shared/axios-client';\nimport withHttpHandler from '../../../hoc/withHttpHandler/withHttpHandler';\n\nclass CatererOrderHistory extends Component {\n  componentDidMount() {\n    this.props.onFetchOrders();\n  }\n\n  render() {\n    let orders = <OrderTable orders={this.props.orders} caterer />;\n    if (this.props.loading) {\n      orders = <Loading />;\n    }\n    if (!this.props.loading && this.props.orders.length === 0) {\n      orders = <Empty text=\"Order History\" />;\n    }\n    return (\n      <React.Fragment>\n        <Header\n          bannerText=\"Your Order History\"\n          authenticated={this.props.catererAuthenticated}\n          caterer\n        />\n        <main>{orders}</main>\n        <Footer />\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const orders = [];\n  state.orders.catererOrders.forEach(order => {\n    orders.push({\n      id: order.id,\n      user: order.user.name,\n      meals: JSON.parse(order.order),\n      date: new Date(order.createdAt).toDateString(),\n      total: order.total\n    });\n  });\n  return {\n    catererAuthenticated: state.auth.catererAuthenticated,\n    loading: state.orders.loading,\n    orders\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchOrders: () => dispatch(actions.orderFetchOrders())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withHttpHandler(CatererOrderHistory, client));\n","import React, { Component } from 'react';\n\nconst withHttpHandler = (WrappedComponent, client) => {\n  const { REACT_APP_API_URL: API_URL } = process.env;\n\n  return class extends Component {\n    state = {\n      error: null\n    };\n\n    componentWillMount() {\n      this.reqInterceptor = client.interceptors.request.use(req => {\n        this.setState({ error: null });\n        if (req.baseURL === API_URL && !req.headers.Authorization) {\n          const token = !req.headers['X-Req']\n            ? localStorage.getItem('token')\n            : localStorage.getItem('c_token');\n          if (token) {\n            req.headers.Authorization = token;\n          }\n        }\n        return req;\n      });\n      this.resInterceptor = client.interceptors.response.use(\n        res => res,\n        error => {\n          this.setState({ error });\n        }\n      );\n    }\n\n    componentWillUnmount() {\n      client.interceptors.request.eject(this.reqInterceptor);\n      client.interceptors.response.eject(this.resInterceptor);\n    }\n\n    errorConfirmedHandler = () => {\n      this.setState({ error: null });\n    };\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n};\n\nexport default withHttpHandler;\n"],"sourceRoot":""}